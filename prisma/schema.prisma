generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Users {
  id  Int  @id @default(autoincrement())
  chat_id  BigInt @unique
  name String? 
  step String @default("home")
  action Json
  votes Json?
  created_at DateTime @default(now()) @db.Timestamptz(5)

  @@map("users")
}

model Categories {
    id  Int  @id @default(autoincrement())
    name String
    info Json

    schools Subcategories[]
    @@map("categories")
}

model Subcategories {
    id  Int  @id @default(autoincrement())
    region_id Int
    name String
    info Json
    vote Int

    regions Categories @relation(fields: [region_id], references: [id], onDelete: Cascade)
}

model Chanell {
    id Int @id @default(autoincrement())
    name String
    chanell_id String
    chanell_username String
}
